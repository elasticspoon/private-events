<div class="w-full grid grid-cols-3 py-[10px] h-[66px] border-[#dbdae3] border-[1px] sticky top-0 bg-white justify-between">
  <div class="col-start-1 flex w-full h-[44px] py-[10px]">
    <div class="flex px-4 items-center">
      <div class="p-2 text-[#4b4d63]">
        <svg id="share-ios-chunky_svg__eds-icon--share-ios-chunky_svg" class="w-6 h-6" viewBox="0 0 24 24" stroke="none" fill="currentColor">
          <path id="share-ios-chunky_svg__eds-icon--share-ios-chunky_base" fill-rule="evenodd" clip-rule="evenodd" d="M18 16v2H6v-2H4v4h16v-4z"></path>
          <path id="share-ios-chunky_svg__eds-icon--share-ios-chunky_arrow" fill-rule="evenodd" clip-rule="evenodd" d="M12 4L7 9l1.4 1.4L11 7.8V16h2V7.8l2.6 2.6L17 9l-5-5z"></path>
        </svg>
      </div>
      <div class="p-2 text-[#4b4d63]">
        <svg id="heart-chunky_svg__eds-icon--user-chunky_svg" class=" w-6 h-6" viewBox="0 0 24 24" stroke="none" fill="currentColor">
          <path id="heart-chunky_svg__eds-icon--heart-chunky_base" fill-rule="evenodd" clip-rule="evenodd" d="M18.8 6.2C18.1 5.4 17 5 16 5c-1 0-2 .4-2.8 1.2L12 7.4l-1.2-1.2C10 5.4 9 5 8 5c-1 0-2 .4-2.8 1.2-1.5 1.6-1.5 4.2 0 5.8l6.8 7 6.8-7c1.6-1.6 1.6-4.2 0-5.8zm-1.4 4.4L12 16.1l-5.4-5.5c-.8-.8-.8-2.2 0-3C7 7.2 7.5 7 8 7c.5 0 1 .2 1.4.6l2.6 2.7 2.7-2.7c.3-.4.8-.6 1.3-.6s1 .2 1.4.6c.8.8.8 2.2 0 3z"></path>
        </svg>
      </div>
    </div>
  </div>
  <div class="flex col-start-2 justify-end items-center pr-6"><span><%= resource.price %></span></div>
  <% if current_user&.attending?(resource.id) %>
    <div class="ml-auto w-full max-w-xs flex flex-row justify-center">
      <%= render layout: 'layouts/generic_attend_perm_button', locals: { resource: resource, method: :delete } do |form| %>
        <%= form.submit 'Leave', 
        class: "py-2 mx-4 px-20  font-bold text-xl bg-red-500 rounded-md border-2 border-transparent hover:border-red-700 hover:text-white"
         %>
      <% end %>
    </div>
  <% else %>
    <%= form_with url: user_event_permissions_url, scope: :user_event_permissions, method: :post, data: { turbo: 'false' }, class: "col-start-3" do |form| %>
      <%= form.hidden_field :event_id, value: resource.id %>
      <%= form.hidden_field :permission_type, value: 'attend' %>
      <%= form.button class: "w-full flex justify-center px-4 h-full" do %>
        <div class="flex text-white text-sm w-full font-semibold bg-[#0d8547] rounded-[4px] px-[30px] h-full pb-[1px] items-center justify-center">
          <span>Register</span>
        </div>
      <% end%>
    <% end %>
  <% end %>
</div>
